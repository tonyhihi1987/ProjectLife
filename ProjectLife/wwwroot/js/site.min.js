function setModal(n){$.ajax({url:"Project/Update",data:{id:n}}).success(function(n){$("#modal").html(n);$("#myModal").modal()}).error(function(){alert("Error")})}function setActive(n,t){$("div.task").removeClass("active");n.addClass("active");var i=$(t.target);i.hasClass("fa-to-be-deleted")&&$("div.task.active").remove()}function addTask(n){n.preventDefault();var i=$(n.target),t=!1;i.hasClass("fa fa-plus")?($("#rowTask .task").each(function(){$(this).find("btn.btn-primary.btn-task.fa.fa-plus")&&$(this).find("input").val().trim()==""&&(t=!0)}),t?alert("le champs ne doit pas \u00eatre vide !!"):($("#rowTask").append($("#newTask").html()),$(n.target).removeClass(),$(n.target).addClass("btn btn-primary btn-task fa fa-times"))):$(n.target).addClass("btn btn-primary btn-task fa fa-to-be-deleted")}function saveNewProject(n){n.preventDefault();var t=initFormData();$.ajax({contentType:!1,processData:!1,method:"POST",url:"Project/Add",data:t}).success(function(n){window.location.href=n}).error(function(){alert("Error")})}function updateProject(n){n.preventDefault();var t=initFormData(!0);$.ajax({contentType:!1,processData:!1,method:"POST",url:"Project/Update",data:t}).success(function(n){window.location.href=n}).error(function(){alert("Error")})}function initFormData(){var n=new FormData($("#project-form")[0]),i,t;return n.append("File",$("#file").get(0).files[0]),i=[],t=0,$("div.task").each(function(){var i=$(this).find(".col-xs-4 input").val();if(i.trim()!==""){var r=$(this).find("#item_Id").val()?$(this).find("#item_Id").val():0,u=$("#Id").val(),f=$(this).find("#item_UserName").val(),e=!$(this).find(".col-xs-3 input").prop("checked");n.append("Tasks["+t+"].Id",r);n.append("Tasks["+t+"].Name",i);n.append("Tasks["+t+"].UserName",f);n.append("Tasks["+t+"].ProjectId",u);n.append("Tasks["+t+"].IsDone",e)}t++}),n}